<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="330px" preserveAspectRatio="none" style="width:538px;height:330px;" version="1.1" viewBox="0 0 538 330" width="538px" zoomAndPan="magnify"><defs><filter height="300%" id="f1pyhl2d3qqv8r" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="207" x="163" y="29.4023">Send Payment Outcome</text><rect fill="#FFFFFF" filter="url(#f1pyhl2d3qqv8r)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="33" y="232.2402"/><rect fill="#FFFFFF" filter="url(#f1pyhl2d3qqv8r)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="258" y="106.998"/><rect fill="#FFFFFF" filter="url(#f1pyhl2d3qqv8r)" height="75.9316" style="stroke:#000000;stroke-width:2.0;" width="298.5" x="10" y="193.6191"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="38" x2="38" y1="75.6875" y2="286.5508"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="262.5" x2="262.5" y1="75.6875" y2="286.5508"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="507" x2="507" y1="75.6875" y2="286.5508"/><rect fill="#FEFECE" filter="url(#f1pyhl2d3qqv8r)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="32" x="20" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="18" x="27" y="60.7344">EC</text><rect fill="#FEFECE" filter="url(#f1pyhl2d3qqv8r)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="32" x="20" y="285.5508"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="18" x="27" y="306.0859">EC</text><rect fill="#FEFECE" filter="url(#f1pyhl2d3qqv8r)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="67" x="227.5" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="234.5" y="60.7344">pagoPA</text><rect fill="#FEFECE" filter="url(#f1pyhl2d3qqv8r)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="67" x="227.5" y="285.5508"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="234.5" y="306.0859">pagoPA</text><rect fill="#FEFECE" filter="url(#f1pyhl2d3qqv8r)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="38" x="486" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="24" x="493" y="60.7344">PSP</text><rect fill="#FEFECE" filter="url(#f1pyhl2d3qqv8r)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="38" x="486" y="285.5508"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="24" x="493" y="306.0859">PSP</text><rect fill="#FFFFFF" filter="url(#f1pyhl2d3qqv8r)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="33" y="232.2402"/><rect fill="#FFFFFF" filter="url(#f1pyhl2d3qqv8r)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="258" y="106.998"/><polygon fill="#A80036" points="279,102.998,269,106.998,279,110.998,275,106.998" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="273" x2="506" y1="106.998" y2="106.998"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="285" y="102.2559">sendPaymentOutcome req (</text><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="457" y="102.2559">token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="493" y="102.2559">)</text><polygon fill="#A80036" points="495,132.3086,505,136.3086,495,140.3086,499,136.3086" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="263" x2="501" y1="136.3086" y2="136.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="270" y="131.5664">sendPaymentOutcome res</text><line style="stroke:#A80036;stroke-width:1.0;" x1="263" x2="305" y1="165.6191" y2="165.6191"/><line style="stroke:#A80036;stroke-width:1.0;" x1="305" x2="305" y1="165.6191" y2="178.6191"/><line style="stroke:#A80036;stroke-width:1.0;" x1="264" x2="305" y1="178.6191" y2="178.6191"/><polygon fill="#A80036" points="274,174.6191,264,178.6191,274,182.6191,270,178.6191" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="270" y="160.877">receipt generation (idReceipt=</text><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="460" y="160.877">token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="496" y="160.877">)</text><path d="M10,193.6191 L84,193.6191 L84,200.6191 L74,210.6191 L10,210.6191 L10,193.6191 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:2.0;" width="298.5" x="10" y="193.6191"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="25" y="207.1875">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="158" x="99" y="206.2539">[for each EC in transfer list]</text><polygon fill="#A80036" points="54,228.2402,44,232.2402,54,236.2402,50,232.2402" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="48" x2="262" y1="232.2402" y2="232.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="60" y="227.498">paSendRT req (idReceipt=</text><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="221" y="227.498">token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="257" y="227.498">)</text><polygon fill="#A80036" points="251,257.5508,261,261.5508,251,265.5508,255,261.5508" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="38" x2="257" y1="261.5508" y2="261.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="45" y="256.8086">paSendRT res</text><!--MD5=[bb4fd65bbcbe98ceb258860493572f11]
@startuml uml_diag/outcomeOK
title Send Payment Outcome

participant EC
participant pagoPA
participant PSP

PSP -> pagoPA: sendPaymentOutcome req (<color blue>token</color>)
activate pagoPA
pagoPA -> PSP: sendPaymentOutcome res
deactivate pagoPA
pagoPA -> pagoPA: receipt generation (idReceipt=<color blue>token</color>)

loop for each EC in transfer list
    pagoPA -> EC: paSendRT req (idReceipt=<color blue>token</color>)
    activate EC
    EC -> pagoPA: paSendRT res
    deactivate EC
end 

@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>